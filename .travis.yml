language: ruby
rvm:
  - 2.5
  - 2.6

env:
  global:
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
  - BITCOIN_ORG=https://github.com/bitcoin-dot-org/Bitcoin.org
  - DEVELOPER_BITCOIN_ORG=https://github.com/bitcoin-dot-org/developer.bitcoin.org
  - BITCCOINCORE_ORG=https://github.com/bitcoin-core/bitcoincore.org

branches:
  only:
    - master

before_install:
  - gem update --system
  - gem install bundler
  - git clone https://github.com/bitcoin-dot-org/Bitcoin.org
  - git clone https://github.com/bitcoin-dot-org/developer.bitcoin.org
  - git clone https://github.com/bitcoin-core/bitcoincore.org

script: "script/cibuild"

notifications:
  email: false

cache: bundler
